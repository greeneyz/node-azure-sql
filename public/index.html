<!DOCTYPE html>
<html>

<head>
    <title>Node.js Azure SQL Test</title>
</head>

<body>
    <h1>Node.js SQL Test Application</h1>
    <button id="checkConnection">Check Connection</button>
    <button id="checkTable" disabled>Check Table</button>
    <div id="result"></div>

    <script>
        document.getElementById('checkConnection').onclick = async () => {
            const response = await fetch('/check-connection');
            const text = await response.text();
            document.getElementById('result').innerText = text;
            if (response.ok) {
                document.getElementById('checkTable').disabled = false;
            }
        };

        document.getElementById('checkTable').onclick = async () => {
            const response = await fetch('/check-table');
            const text = await response.text();
            document.getElementById('result').innerText = text;
        };
    </script>
</body>

</html>